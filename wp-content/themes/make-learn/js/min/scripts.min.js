var AUTH0_CLIENT_ID="ZIX3RQReetRyVxYUkRJlJJ6LnbND4lq1",AUTH0_DOMAIN="makermedia.auth0.com";if(void 0===templateUrl)var templateUrl=window.location.origin;var AUTH0_CALLBACK_URL=templateUrl+"/authenticate-redirect/",AUTH0_REDIRECT_URL=templateUrl;window.addEventListener("load",function(){var a;if(jQuery("#wp-admin-bar-logout").length&&jQuery("#wp-admin-bar-logout").remove(),jQuery("#newLoginBtn").length)var e=document.getElementById("newLoginBtn");else(e=document.createElement("div")).setAttribute("id","newLoginBtn");if(jQuery("#newLogoutBtn").length)var t=document.getElementById("newLogoutBtn");else(t=document.createElement("div")).setAttribute("id","newLogoutBtn");if(jQuery("#profile-view").length)var n=document.getElementById("profile-view");else(n=document.createElement("div")).setAttribute("id","profile-view");jQuery(".trigger-login").click(function(e){jQuery(".page-template-page-conversion")?localStorage.setItem("redirect_to","/mm-error/?code=100020"):localStorage.setItem("redirect_to","/myaccount"),r.authorize(),e.preventDefault()}),e.style.display="none",n.style.display="none";var o=jQuery(".progress .progress-bar");function i(e){jQuery("#authenticated-redirect").length&&o.attr("aria-valuenow",e).css("width",e).text(e)}var r=new auth0.WebAuth({domain:AUTH0_DOMAIN,clientID:AUTH0_CLIENT_ID,redirectUri:AUTH0_CALLBACK_URL,audience:"https://"+AUTH0_DOMAIN+"/userinfo",responseType:"token id_token",scope:"openid email profile user_metadata",leeway:60});function s(){if(jQuery("#authenticated-redirect").length)if(localStorage.getItem("redirect_to")){jQuery(".redirect-message").text("You will be redirected to the page you were trying to access shortly.");var e=localStorage.getItem("redirect_to");localStorage.removeItem("redirect_to"),location.href=e}else location.href=templateUrl}function l(){!function(){if(localStorage.getItem("expires_at")){var e=JSON.parse(localStorage.getItem("expires_at"));return(new Date).getTime()<e}return!1}()?(e.style.display="flex",n.style.display="none",ajax_object.wp_user_email?c():jQuery(".redirect-message").html("<a href='javascript:location.reload();'>Try your login again</a>")):(e.style.display="none",n.style.display="flex",i("25%"),function(){var e=localStorage.getItem("access_token");e||(console.log("Access token must exist to fetch profile"),d("Login without Access Token"));r.client.userInfo(e,function(e,t){t&&(a=t,ajax_object.wp_user_email&&ajax_object.wp_user_email!=a.email&&c("wp_only"),document.querySelector(".dropdown-toggle img").src=a.picture,document.querySelector(".profile-info img").src=a.picture,document.querySelector(".dropdown-toggle img").style.display="block",document.querySelector(".profile-email").innerHTML=a.email,document.querySelector(".profile-info .profile-name").innerHTML=a["http://makershare.com/first_name"]+" "+a["http://makershare.com/last_name"]),i("35%")})}(),ajax_object.wp_user_email?s():setTimeout(function(){u()},320))}function u(){if(void 0!==a){i("50%");a.sub;var e=localStorage.getItem("access_token"),t=localStorage.getItem("id_token"),n={action:"mm_wplogin",auth0_userProfile:a,auth0_access_token:e,auth0_id_token:t};jQuery.ajax({type:"POST",url:ajax_object.ajax_url,data:n,timeout:1e4,success:function(e){i("70%"),s(),0==jQuery(".logged-in").length&&0==jQuery("#authenticated-redirect").length&&(-1<window.location.href.indexOf("mm-error")?location.reload():jQuery("#page-content").load(window.location.href+" #page-content",function(){owlCarouselInit()}))}}).fail(function(e,t,n){"timeout"===t?(alert("Your login has timed out. Please try the login again."),d(a.email+" ran over the timeout limit of 10 seconds. Error was: "+JSON.stringify(n)),location.href=templateUrl):(alert("I'm sorry. We had an issue logging you into our system. Please try the login again."),d(a.email+" had an issue logging in at the WP Login phase. That error is: "+JSON.stringify(n)))})}else jQuery("#authenticated-redirect").length&&(alert("We're having trouble logging you in and ran out of time. Refresh the page and we'll try harder."),jQuery(".redirect-message").html("<a class='reload' href='javascript:location.reload();'>Reload page</a>"),d("Login failed for undefined user. Timeout."))}function c(t){jQuery("#wpadminbar").length&&(jQuery("body").removeClass("adminBar").removeClass("logged-in"),jQuery("#wpadminbar").remove(),jQuery("#mm-preview-settings-bar").remove()),jQuery.post(ajax_object.ajax_url,{action:"mm_wplogout"},function(e){"wp_only"!=t?window.location.href="https://makermedia.auth0.com/v2/logout?returnTo="+templateUrl+"&client_id="+AUTH0_CLIENT_ID:u()})}function d(e){var t={action:"make_error_log",make_error:e};jQuery.post(ajax_object.ajax_url,t,function(e){})}e.addEventListener("click",function(e){e.preventDefault(),0<=location.href.indexOf("authenticate-redirect")?localStorage.setItem("redirect_to",templateUrl):localStorage.setItem("redirect_to",location.href),r.authorize()}),t.addEventListener("click",function(e){e.preventDefault(),localStorage.removeItem("access_token"),localStorage.removeItem("id_token"),localStorage.removeItem("expires_at"),l()}),r.checkSession({},function(e,t){e?(localStorage.removeItem("access_token"),localStorage.removeItem("id_token"),localStorage.removeItem("expires_at"),"login_required"!==e.error&&d(a.email+" had an issue logging in at the checkSession phase. That error was: "+JSON.stringify(e))):function(e){if(e){var t=JSON.stringify(1e3*e.expiresIn+(new Date).getTime());localStorage.setItem("access_token",e.accessToken),localStorage.setItem("id_token",e.idToken),localStorage.setItem("expires_at",t)}else localStorage.removeItem("access_token"),localStorage.removeItem("id_token"),localStorage.removeItem("expires_at")}(t),l()})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(l){var a=-1,o=-1,u=function(e){return parseFloat(e)||0},c=function(e){var t=l(e),a=null,o=[];return t.each(function(){var e=l(this),t=e.offset().top-u(e.css("margin-top")),n=0<o.length?o[o.length-1]:null;null===n?o.push(e):Math.floor(Math.abs(a-t))<=1?o[o.length-1]=n.add(e):o.push(e),a=t}),o},d=function(e){var t={byRow:!0,property:"height",target:null,remove:!1};return"object"==typeof e?l.extend(t,e):("boolean"==typeof e?t.byRow=e:"remove"===e&&(t.remove=!0),t)},m=l.fn.matchHeight=function(e){var t=d(e);if(t.remove){var n=this;return this.css(t.property,""),l.each(m._groups,function(e,t){t.elements=t.elements.not(n)}),this}return this.length<=1&&!t.target||(m._groups.push({elements:this,options:t}),m._apply(this,t)),this};m.version="0.7.0",m._groups=[],m._throttle=80,m._maintainScroll=!1,m._beforeUpdate=null,m._afterUpdate=null,m._rows=c,m._parse=u,m._parseOptions=d,m._apply=function(e,t){var i=d(t),n=l(e),a=[n],o=l(window).scrollTop(),r=l("html").outerHeight(!0),s=n.parents().filter(":hidden");return s.each(function(){var e=l(this);e.data("style-cache",e.attr("style"))}),s.css("display","block"),i.byRow&&!i.target&&(n.each(function(){var e=l(this),t=e.css("display");"inline-block"!==t&&"flex"!==t&&"inline-flex"!==t&&(t="block"),e.data("style-cache",e.attr("style")),e.css({display:t,"padding-top":"0","padding-bottom":"0","margin-top":"0","margin-bottom":"0","border-top-width":"0","border-bottom-width":"0",height:"100px",overflow:"hidden"})}),a=c(n),n.each(function(){var e=l(this);e.attr("style",e.data("style-cache")||"")})),l.each(a,function(e,t){var n=l(t),o=0;if(i.target)o=i.target.outerHeight(!1);else{if(i.byRow&&n.length<=1)return void n.css(i.property,"");n.each(function(){var e=l(this),t=e.attr("style"),n=e.css("display");"inline-block"!==n&&"flex"!==n&&"inline-flex"!==n&&(n="block");var a={display:n};a[i.property]="",e.css(a),e.outerHeight(!1)>o&&(o=e.outerHeight(!1)),t?e.attr("style",t):e.css("display","")})}n.each(function(){var e=l(this),t=0;i.target&&e.is(i.target)||("border-box"!==e.css("box-sizing")&&(t+=u(e.css("border-top-width"))+u(e.css("border-bottom-width")),t+=u(e.css("padding-top"))+u(e.css("padding-bottom"))),e.css(i.property,o-t+"px"))})}),s.each(function(){var e=l(this);e.attr("style",e.data("style-cache")||null)}),m._maintainScroll&&l(window).scrollTop(o/r*l("html").outerHeight(!0)),this},m._applyDataApi=function(){var n={};l("[data-match-height], [data-mh]").each(function(){var e=l(this),t=e.attr("data-mh")||e.attr("data-match-height");n[t]=t in n?n[t].add(e):e}),l.each(n,function(){this.matchHeight(!0)})};var i=function(e){m._beforeUpdate&&m._beforeUpdate(e,m._groups),l.each(m._groups,function(){m._apply(this.elements,this.options)}),m._afterUpdate&&m._afterUpdate(e,m._groups)};m._update=function(e,t){if(t&&"resize"===t.type){var n=l(window).width();if(n===a)return;a=n}e?-1===o&&(o=setTimeout(function(){i(t),o=-1},m._throttle)):i(t)},l(m._applyDataApi),l(window).bind("load",function(e){m._update(!1,e)}),l(window).bind("resize orientationchange",function(e){m._update(!0,e)})});var makeLearn=function(t){"use strict";var n=function(){var e=0;"fixed"===t(".site-header").css("position")&&(e=t(".site-header").outerHeight()),t(".site-inner").css("margin-top",e)};return{load:function(){n(),t(window).resize(function(){n()}),"undefined"!=typeof wp&&void 0!==wp.customize&&wp.customize.bind("change",function(e){setTimeout(function(){n()},1500)})}}}(jQuery);jQuery(window).on("load",makeLearn.load),function(n,l,e){"use strict";var a="undefined"==typeof genesis_responsive_menu?"":genesis_responsive_menu,t=a.menuClasses,i={},u=[];l.each(t,function(o){i[o]=[],l.each(this,function(e,t){var a=t,n=l(t);1<n.length?l.each(n,function(e,t){var n=a+"-"+e;l(this).addClass(n.replace(".","")),i[o].push(n),"combine"===o&&u.push(n)}):1==n.length&&(i[o].push(a),"combine"===o&&u.push(a))})}),void 0===i.others&&(i.others=[]),1==u.length&&(i.others.push(u[0]),i.combine=null,u=null);var o={},r="menu-toggle",s="sub-menu-toggle",c="genesis-responsive-menu";function d(){var e=l('button[id^="genesis-mobile-"]').attr("id");void 0!==e&&(function(e){if("none"!==f(e))return;l("."+r+", ."+c+" .sub-menu-toggle").removeClass("activated").attr("aria-expanded",!1).attr("aria-pressed",!1),l("."+c+", ."+c+" .sub-menu").attr("style","")}(e),function(e){var t=l("."+c+" .js-superfish"),n="destroy";if("function"!=typeof t.superfish)return;"none"===f(e)&&(n={delay:100,animation:{opacity:"show",height:"show"},dropShadows:!1,speed:"fast"});t.superfish(n)}(e),function(s){var e=y();if(0<!l(e).length)return;l.each(e,function(e,t){var n=t.replace(".",""),a="genesis-"+n,o="genesis-mobile-"+n;"none"==f(s)&&(a="genesis-mobile-"+n,o="genesis-"+n);var i=l('.genesis-skip-link a[href="#'+a+'"]');if(null!==u&&t!==u[0]&&i.toggleClass("skip-link-hidden"),0<i.length){var r=i.attr("href");r=r.replace(a,o),i.attr("href",r)}})}(e),function(e){if(null==u)return;var n=u[0],t=l(u).filter(function(e){if(0<e)return e});"none"!==f(e)?(l.each(t,function(e,t){l(t).find(".menu > li").addClass("moved-item-"+t.replace(".","")).appendTo(n+" ul.genesis-nav-menu")}),l(v(t)).hide()):(l(v(t)).show(),l.each(t,function(e,t){l(".moved-item-"+t.replace(".","")).appendTo(t+" ul.genesis-nav-menu").removeClass("moved-item-"+t.replace(".",""))}))}(e))}function m(){var e=l(this),t=e.next("nav");e.attr("id","genesis-mobile-"+l(t).attr("class").match(/nav-\w*\b/))}function g(){var e=l(this);h(e,"aria-pressed"),h(e,"aria-expanded"),e.toggleClass("activated"),e.next("nav").slideToggle("fast")}function p(){var e=l(this),t=e.closest(".menu-item").siblings();h(e,"aria-pressed"),h(e,"aria-expanded"),e.toggleClass("activated"),e.next(".sub-menu").slideToggle("fast"),t.find("."+s).removeClass("activated").attr("aria-pressed","false"),t.find(".sub-menu").slideUp("fast")}function f(e){var t=n.getElementById(e);return window.getComputedStyle(t).getPropertyValue("display")}function h(e,t){e.attr(t,function(e,t){return"false"===t})}function v(e){return l.map(e,function(e,t){return e}).join(",")}function y(){var n=[];return null!==u&&l.each(u,function(e,t){n.push(t.valueOf())}),l.each(i.others,function(e,t){n.push(t.valueOf())}),0<n.length?n:null}o.init=function(){if(0!=l(y()).length){var e=void 0!==a.menuIconClass?a.menuIconClass:"dashicons-before dashicons-menu",t=void 0!==a.subMenuIconClass?a.subMenuIconClass:"dashicons-before dashicons-arrow-down-alt2",n={menu:l("<button />",{class:r,"aria-expanded":!1,"aria-pressed":!1}).append(a.mainMenu),submenu:l("<button />",{class:s,"aria-expanded":!1,"aria-pressed":!1}).append(l("<span />",{class:"screen-reader-text",text:a.subMenu}))};l(v(i)).addClass(c),function(e){if(l(v(i)).find(".sub-menu").before(e.submenu),null!==u){var t=i.others.concat(u[0]);l(v(t)).before(e.menu)}else l(v(i.others)).before(e.menu)}(n),l("."+r).addClass(e),l("."+s).addClass(t),l("."+r).on("click.genesisMenu-mainbutton",g).each(m),l("."+s).on("click.genesisMenu-subbutton",p),l(window).on("resize.genesisMenu",d).triggerHandler("resize.genesisMenu")}},l(n).ready(function(){null!==y()&&o.init()})}(document,jQuery),function(t,i,e){function o(){var o,e,t=i('button[id^="genesis-mobile-"]').attr("id");if(void 0!==t){"none"===u(t)&&(i(".menu-toggle, .genesis-responsive-menu .sub-menu-toggle").removeClass("activated").attr("aria-expanded",!1).attr("aria-pressed",!1),i(".genesis-responsive-menu, .genesis-responsive-menu .sub-menu").attr("style",""));var n=i(".genesis-responsive-menu .js-superfish"),a="destroy";"function"==typeof n.superfish&&("none"===u(t)&&(a={delay:100,animation:{opacity:"show",height:"show"},dropShadows:!1,speed:"fast"}),n.superfish(a)),o=t,e=d(),0<!i(e).length||i.each(e,function(e,t){var n=t.replace(".","");e="genesis-"+n;var a="genesis-mobile-"+n;"none"==u(o)&&(e="genesis-mobile-"+n,a="genesis-"+n),n=i('.genesis-skip-link a[href="#'+e+'"]'),null!==p&&t!==p[0]&&n.toggleClass("skip-link-hidden"),0<n.length&&(t=(t=n.attr("href")).replace(e,a),n.attr("href",t))}),function(e){if(null!=p){var n=p[0],t=i(p).filter(function(e){if(0<e)return e});"none"!==u(e)?(i.each(t,function(e,t){i(t).find(".menu > li").addClass("moved-item-"+t.replace(".","")).appendTo(n+" ul.genesis-nav-menu")}),i(c(t)).hide()):(i(c(t)).show(),i.each(t,function(e,t){i(".moved-item-"+t.replace(".","")).appendTo(t+" ul.genesis-nav-menu").removeClass("moved-item-"+t.replace(".",""))}))}}(t)}}function r(){var e=i(this),t=e.next("nav");e.attr("id","genesis-mobile-"+i(t).attr("class").match(/nav-\w*\b/))}function s(){var e=i(this);n(e,"aria-pressed"),n(e,"aria-expanded"),e.toggleClass("activated"),e.next("nav").slideToggle("fast")}function l(){var e=i(this),t=e.closest(".menu-item").siblings();n(e,"aria-pressed"),n(e,"aria-expanded"),e.toggleClass("activated"),e.next(".sub-menu").slideToggle("fast"),t.find(".sub-menu-toggle").removeClass("activated").attr("aria-pressed","false"),t.find(".sub-menu").slideUp("fast")}function u(e){return e=t.getElementById(e),window.getComputedStyle(e).getPropertyValue("display")}function n(e,t){e.attr(t,function(e,t){return"false"===t})}function c(e){return i.map(e,function(e,t){return e}).join(",")}function d(){var n=[];return null!==p&&i.each(p,function(e,t){n.push(t.valueOf())}),i.each(g.others,function(e,t){n.push(t.valueOf())}),0<n.length?n:null}var m="undefined"==typeof genesis_responsive_menu?"":genesis_responsive_menu,g={},p=[];i.each(m.menuClasses,function(a){g[a]=[],i.each(this,function(e,n){1<(e=i(n)).length?i.each(e,function(e,t){e=n+"-"+e,i(this).addClass(e.replace(".","")),g[a].push(e),"combine"===a&&p.push(e)}):1==e.length&&(g[a].push(n),"combine"===a&&p.push(n))})}),void 0===g.others&&(g.others=[]),1==p.length&&(g.others.push(p[0]),p=g.combine=null);var a=function(){if(0!=i(d()).length){var e=void 0!==m.menuIconClass?m.menuIconClass:"dashicons-before dashicons-menu",t=void 0!==m.subMenuIconClass?m.subMenuIconClass:"dashicons-before dashicons-arrow-down-alt2",n=i("<button />",{class:"menu-toggle","aria-expanded":!1,"aria-pressed":!1}).append(m.mainMenu),a=i("<button />",{class:"sub-menu-toggle","aria-expanded":!1,"aria-pressed":!1}).append(i("<span />",{class:"screen-reader-text",text:m.subMenu}));i(c(g)).addClass("genesis-responsive-menu"),i(c(g)).find(".sub-menu").before(a),null!==p?(a=g.others.concat(p[0]),i(c(a)).before(n)):i(c(g.others)).before(n),i(".menu-toggle").addClass(e),i(".sub-menu-toggle").addClass(t),i(".menu-toggle").on("click.genesisMenu-mainbutton",s).each(r),i(".sub-menu-toggle").on("click.genesisMenu-subbutton",l),i(window).on("resize.genesisMenu",o).triggerHandler("resize.genesisMenu")}};i(t).ready(function(){null!==d()&&a()})}(document,jQuery);
//# sourceMappingURL=scripts.min.js.map