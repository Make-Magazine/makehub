!function(r){"use strict";r(document).ready(function(){r(document).on("click","#yz-add-member-type",function(e){e.preventDefault();var t=r(".yz-member-type-name span"),a=r("#yz-member-types-form"),m="yz_member_types[yz_member_type_"+yz_nextMType+"]",n=r.yz_getAddData(a,"yz_member_type"),y={value:n.name,form:a,selector:t,type:"text",type_id:n.id,type_icon:n.icon,type_name:n.name,type_slug:n.slug,type_active:n.active,type_singular:n.singular,type_register:n.register};if(!r.validate_member_types_data(y))return!1;r("#yz_member_types").prepend('<li class="yz-member-type-item" data-member-type-name="yz_member_type_'+yz_nextMType+'"><h2 class="yz-member-type-name"><i class="yz-member-type-icon '+n.icon+'"></i><span>'+n.name+'</span></h2><input type="hidden" name="'+m+'[id]" value="'+n.id+'" ><input type="hidden" name="'+m+'[icon]" value="'+n.icon+'" ><input type="hidden" name="'+m+'[name]" value="'+n.name+'" ><input type="hidden" name="'+m+'[singular]" value="'+n.singular+'" ><input type="hidden" name="'+m+'[active]" value="'+n.active+'" ><input type="hidden" name="'+m+'[slug]" value="'+n.slug+'" ><input type="hidden" name="'+m+'[left_color]" value="'+n.left_color+'" ><input type="hidden" name="'+m+'[right_color]" value="'+n.right_color+'" ><input type="hidden" name="'+m+'[show_in_md]" value="'+n.show_in_md+'" ><input type="hidden" name="'+m+'[register]" value="'+n.register+'" ><a class="yz-edit-item yz-edit-member-type"></a><a class="yz-delete-item yz-delete-member-type"></a></li>'),r.yz_HideModal(a),yz_nextMType++}),r(document).on("click",".yz-edit-member-type",function(e){var t=r(this).closest(".yz-member-type-item"),a=r("#yz-member-types-form");r.yz_EditForm({button_id:"yz-update-member-type",form_title:Youzer_MT.update_member_type,form:a,item:t})}),r(document).on("click","#yz-update-member-type",function(e){e.preventDefault();var t=".yz-member-type-name span",a=r("#yz-member-types-form"),m=r.yz_getItemObject(a),n=r.yz_getNewData(a,"keyToVal"),y={old_name:m.find(t).text(),value:n.name,form:a,selector:r(t),type:"text",type_id:n.id,type_icon:n.icon,type_name:n.name,type_slug:n.slug,type_active:n.active,type_singular:n.singular,type_register:n.register};if(!r.validate_member_types_data(y))return!1;r.yz_updateFieldsData(a)}),r.validate_member_types_data=function(e){var t=r.extend({},e);return null==t.type_name||""==r.trim(t.type_name)?(r.ShowPanelMessage({msg:Youzer_MT.mtype_name_empty,type:"error"}),!1):r.yz_isAlreadyExist({old_title:t.old_name,selector:t.selector,value:t.value,type:"text"})?(r.ShowPanelMessage({msg:Youzer_MT.name_exist,type:"error"}),!1):null==t.type_singular||""==r.trim(t.type_singular)?(r.ShowPanelMessage({msg:Youzer_MT.mtype_singular_empty,type:"error"}),!1):null!=t.type_slug&&""!=r.trim(t.type_slug)||(r.ShowPanelMessage({msg:Youzer_MT.mtype_slug_empty,type:"error"}),!1)}})}(jQuery);