!function($){"use strict";function Gvlist(options){this.init("gvlist",options,Gvlist.defaults),this.sourceData=null}$.fn.editableutils.inherit(Gvlist,$.fn.editabletypes.list),$.extend(Gvlist.prototype,{render:function(){this.sourceData=this.options.source,$.isArray(this.sourceData)&&(this.$input=this.$tpl.find("input[name^='input_']"))},value2str:function(value){return value},str2value:function(str){return str},value2input:function(value){var counter,propertyName,sourceData=this.sourceData,isMultiColumn=this.options.multicolumn,columnCount=this.options.colcount;if(value&&(sourceData=value),isMultiColumn&&void 0===columnCount&&(columnCount=this.$tpl.find("input[name^='input_']").length),$.isArray(sourceData)&&sourceData.length){for(var $addButton=this.$tpl.find(".add_list_item"),i=1;i<sourceData.length;i++)gformAddListItem($addButton,0);this.$tpl.find("input[name^='input_']").each(function(i,el){counter=isMultiColumn?(propertyName=$(el).parents("td").data("label"),counter=Math.floor(i/columnCount),sourceData[counter][propertyName]):sourceData[i],$(el).val(counter)})}},input2value:function(){var propertyName,rowNumber,listValues=[],listRow={},isMultiColumn=this.options.multicolumn,columnCount=this.options.colcount;return isMultiColumn&&void 0===columnCount&&(columnCount=this.$tpl.find("input[name^='input_']").length),this.$tpl.find("input[name^='input_']").each(function(i,el){isMultiColumn?(propertyName=$(el).parents("td").data("label"),rowNumber=Math.floor(i/columnCount),listValues[rowNumber]?listValues[rowNumber][propertyName]=$(el).val():((listRow={})[propertyName]=$(el).val(),listValues.push(listRow))):listValues.push($(el).val())}),listValues},value2html:function(value,element){var valueHtml,isMultiColumnEmpty;value?(valueHtml=null,0!==(value=$.map(value,function(val,index){return"object"==typeof val||0<val.length?[val]:void 0})).length?(isMultiColumnEmpty=!0,null!==value[0]&&"object"==typeof value[0]?(valueHtml="<table><thead><tr>",$.each(value[0],function(colName,colValue){valueHtml+="<th>"+colName+"</th>"}),valueHtml+="</tr></thead><tbody>",$.each(value,function(i,val){valueHtml+="<tr>",$.each(val,function(key,cellData){cellData&&(isMultiColumnEmpty=!1),valueHtml+="<td>"+cellData+"</td>"}),valueHtml+="</tr>"}),valueHtml+="</tbody></table>"):valueHtml="<ul><li>"+value.join("</li><li>")+"</li></ul>",this.options.multicolumn&&isMultiColumnEmpty?$(element).empty():$(element).html(valueHtml)):$(element).empty()):$(element).empty()},activate:function(){this.$input.first().focus()},autosubmit:function(){this.$input.on("keydown",function(e){13===e.which&&$(this).closest("form").submit()})}}),Gvlist.defaults=$.extend({},$.fn.editabletypes.list.defaults,{inputclass:null,separator:","}),$.fn.editabletypes.gvlist=Gvlist}(window.jQuery);